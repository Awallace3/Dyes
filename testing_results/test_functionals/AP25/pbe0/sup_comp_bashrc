# Sample .bashrc for SuSE Linux
# Copyright (c) SuSE GmbH Nuernberg

# There are 3 different types of shells in bash: the login shell, normal shell
# and interactive shell. Login shells read ~/.profile and interactive shells
# read ~/.bashrc; in our setup, /etc/profile sources ~/.bashrc - thus all
# settings made here will also take effect in a login shell.
#
# NOTE: It is recommended to make language settings in ~/.profile rather than
# here, since multilingual X sessions would not work properly if LANG is over-
# ridden in every subshell.

# Some applications read the EDITOR variable to determine your favourite text
# editor. So uncomment the line below and enter the editor of your choice :-)
#export EDITOR=/usr/bin/vim
#export EDITOR=/usr/bin/mcedit

# For some news readers it makes sense to specify the NEWSSERVER variable here
#export NEWSSERVER=your.news.server

# If you want to use a Palm device with Linux, uncomment the two lines below.
# For some (older) Palm Pilots, you might need to set a lower baud rate
# e.g. 57600 or 38400; lowest is 9600 (very slow!)
#
#export PILOTPORT=/dev/pilot
#export PILOTRATE=115200

test -s ~/.alias && . ~/.alias || true

# Function

cpcd () {
        echo "file: $1"
        echo "path: $2"
        cp $1 $2
        cd $2
        echo ""
        ls
        echo ""
}

cdl () {
	echo ""
        cd $1
        ls
	echo ""
}

clean_q () {
	START=468929
	END=469054
	for ((i=START;i<=END;i++)); do
		qdel $i
	done
}

add_mex_o () {
	START=1
	END=30
	for ((i=START;i<=END;i++)); do
		cd geom$i
		touch mex_o.o000000
		touch mex_o.o100000
		touch mex_o.o200000
		cd ..
	done
}

add_mex_o_Dyes () {
	for d in */ ; do
		cd d
		#touch mex_o.o000000
		echo pwd
		cd ..
	done
}
#jobs
#qstat | grep r2652 | grep '0 Q'| awk 'BEGIN{FS="  "} {print $1}'
qdel_job_file () {
	input=$1
	while IFS= read -r line
	do
		qdel $line
	done < "$input"
}

#function getxyzlength {
#	start=$(awk '/Charge =/ {print FNR}' mex.out)
#	end=$(awk '/Grad/ {print FNR}' mex.out | tac | tail -n 1)
#	result=`expr $end - $start - 3`
#	echo $result
#}
function getxyzlength2 {
	filename=$1
	lines=$(awk '/---------------------------------------------------------------------/ {print FNR}' $filename | tail -n 2)	
	#echo $lines
	var1=$(echo $lines | cut -f1 -d ' ' )
	var2=$(echo $lines | cut -f2 -d ' ' )
	result=`expr $var2 - $var1 - 1`
	echo $result
}

function getxyz {
	filename=$1
	length=$(getxyzlength2 $filename)
	y=$((++length))
	x=$((--length))
	grep "Number     Number       Type             X           Y           Z" -A $y $filename | tail  -n $x  |  awk  'BEGIN {OFS = " "} { print $2, $4, $5, $6, $7 }'
	#grep "Number     Number       Type             X           Y           Z" -A 88 mex.out | tail  -n 87 |  awk  'BEGIN {OFS = ","} { print $2, $4, $5, $6, $7 }' > test.out 
	
}

# Alias
alias vic="vi *.com"
alias vit="vi *.out"
alias vii="vi *.in"
alias vip="vi *.pbs"
alias viz="vi ZMAT"
alias vio="vi output.dat"
alias vilog="vi *.log"
alias sshe="ssh r410@130.74.64.29"
alias qme="qstat -u \"r2652\""
alias qmer="qstat -u \"r2652\" -r"
alias qnum="qme | grep r2652 | wc -l"
alias cpfort="cp file15 fort.15; cp file20 fort.30; cp file24 fort.40"
alias ....="cd ../.."
alias ......="cd ../../../"
alias ........="cd ../../../../"
alias ..........="cd ../../../../../"
alias ............="cd ../../../../../../"
alias error_mexc="cp /ddn/home3/r2652/scripts/error_mexc_v6.py .; pyerrormexc"
alias ranput_geoms="cp /ddn/home3/r2652/scripts/build_geoms.py ."
alias pyerrormexc="python3 error_mexc_v6.py"
alias grab_tddft="awk '/Excited State/ {print $7, $9}' *out2 | sed 's/f=//g'"
alias exc_w="cp /ddn/home3/r2652/chem/scripts/mexc_w.py ."
alias pymexc_w="python3 mexc_w.py"
export LS_COLORS='di=0;36'
#export PYTHONPATH=/usr/bin:$HOME/programs/process_freqs/lib/
#. /ddn/home1/r1621/maple/bin/tempQC/bin/psi4conda/etc/profile.d/conda.sh; conda activate
